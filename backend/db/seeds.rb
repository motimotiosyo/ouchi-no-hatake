# This file should ensure the existence of records required to run the application in every environment (production,
# development, test). The code here should be idempotent so that it can be executed at any point in every environment.
# The data can then be loaded with the bin/rails db:seed command (or created alongside the database with db:setup).
#
# Example:
#
#   ["Action", "Comedy", "Drama", "Horror"].each do |genre_name|
#     MovieGenre.find_or_create_by!(name: genre_name)
#   end

# ベランダ・室内栽培可能な植物データ
plants_data = [
  # 実がなる野菜（7種）
  {
    name: "ミニトマト",
    description: "プランターで育てやすく、初心者におすすめ。支柱を立てて育てます。"
  },
  {
    name: "きゅうり",
    description: "支柱やネットがあれば縦に育つため、省スペースで栽培可能。"
  },
  {
    name: "ピーマン",
    description: "小さなプランターでも栽培でき、長期間収穫を楽しめます。"
  },
  {
    name: "なす",
    description: "プランター栽培可能。日当たりが良い場所で育てると実付きが良くなります。"
  },
  {
    name: "ミニキャロット",
    description: "深めのプランターで育てる小型の人参。甘くて食べやすい品種です。"
  },
  {
    name: "イチゴ",
    description: "ベランダ栽培に最適。ランナーで増やすこともできます。"
  },
  {
    name: "枝豆",
    description: "プランターでも栽培可能。収穫の喜びを味わえる初心者向け野菜です。"
  },

  # 葉物野菜（9種）
  {
    name: "レタス",
    description: "短期間で収穫でき、室内やベランダで簡単に育てられます。"
  },
  {
    name: "小松菜",
    description: "成長が早く育てやすい葉物野菜。プランターで手軽に栽培できます。"
  },
  {
    name: "水菜",
    description: "室内でも育ち、サラダに最適。短期間で収穫できます。"
  },
  {
    name: "ラディッシュ（二十日大根）",
    description: "小さなプランターでも育ち、約20日で収穫できる手軽な野菜。"
  },
  {
    name: "ベビーリーフ",
    description: "室内栽培に最適。若い葉を摘み取って長期間楽しめます。"
  },
  {
    name: "ほうれん草",
    description: "室内やベランダで育てやすい。栄養価が高く、収穫までの期間も短めです。"
  },
  {
    name: "春菊",
    description: "独特の香りが特徴。比較的育てやすく、プランター栽培に向いています。"
  },
  {
    name: "チンゲン菜",
    description: "中国野菜の代表格。プランターで手軽に育てられ、炒め物に最適です。"
  },
  {
    name: "サニーレタス",
    description: "外側から収穫できるため長期間楽しめる。色鮮やかで栄養豊富です。"
  },

  # ハーブ類（7種）
  {
    name: "バジル",
    description: "室内栽培で人気のハーブ。料理の香り付けに重宝します。"
  },
  {
    name: "パセリ",
    description: "長期間収穫可能なハーブ。プランターで簡単に育てられます。"
  },
  {
    name: "青じそ",
    description: "日本の家庭菜園定番のハーブ。薬味として重宝します。"
  },
  {
    name: "ミント",
    description: "室内栽培に最適なハーブ。繁殖力が強いため、プランター栽培がおすすめです。"
  },
  {
    name: "ルッコラ",
    description: "ピリッとした辛みが特徴。サラダに最適で、短期間で収穫できます。"
  },
  {
    name: "コリアンダー",
    description: "パクチーとも呼ばれるハーブ。独特の香りがエスニック料理に欠かせません。"
  },
  {
    name: "ローズマリー",
    description: "丈夫で育てやすいハーブ。料理や観賞用としても楽しめます。"
  }
]

plants_data.each do |plant_data|
  Plant.find_or_create_by!(name: plant_data[:name]) do |plant|
    plant.description = plant_data[:description]
  end
end



# カテゴリデータ
categories_data = [
  { name: "栽培記録" },
  { name: "種まき" },
  { name: "水やり" },
  { name: "収穫" },
  { name: "雑談" },
  { name: "質問" },
  { name: "病気・害虫" },
  { name: "肥料" },
  { name: "その他" }
]

categories_data.each do |category_data|
  Category.find_or_create_by!(name: category_data[:name])
end

puts "Plants: #{Plant.count}, Categories: #{Category.count}"

# ========================================
# 家庭菜園チェッカー データ
# ========================================

puts "Creating checker data..."

# 既存データのクリーンアップ（重複防止）
if Question.exists?
  puts "Checker questions already exist. Skipping creation."
else

# 質問データの作成
questions_data = [
  {
    text: "栽培場所はどこがいいですか？",
    choices: [
      { text: "室内", scores: { "ミニトマト" => 0, "きゅうり" => 0, "ピーマン" => 1, "なす" => 0, "ミニキャロット" => 2, "イチゴ" => 2, "枝豆" => 0, "レタス" => 3, "小松菜" => 2, "水菜" => 3, "ラディッシュ（二十日大根）" => 2, "ベビーリーフ" => 3, "ほうれん草" => 3, "春菊" => 2, "チンゲン菜" => 2, "サニーレタス" => 3, "バジル" => 3, "パセリ" => 2, "青じそ" => 2, "ミント" => 3, "ルッコラ" => 3, "コリアンダー" => 2, "ローズマリー" => 2 } },
      { text: "ベランダ", scores: { "ミニトマト" => 3, "きゅうり" => 2, "ピーマン" => 3, "なす" => 3, "ミニキャロット" => 3, "イチゴ" => 3, "枝豆" => 3, "レタス" => 3, "小松菜" => 3, "水菜" => 3, "ラディッシュ（二十日大根）" => 3, "ベビーリーフ" => 2, "ほうれん草" => 3, "春菊" => 3, "チンゲン菜" => 3, "サニーレタス" => 3, "バジル" => 3, "パセリ" => 3, "青じそ" => 3, "ミント" => 3, "ルッコラ" => 3, "コリアンダー" => 3, "ローズマリー" => 3 } },
      { text: "庭", scores: { "ミニトマト" => 3, "きゅうり" => 3, "ピーマン" => 3, "なす" => 3, "ミニキャロット" => 2, "イチゴ" => 2, "枝豆" => 3, "レタス" => 2, "小松菜" => 2, "水菜" => 2, "ラディッシュ（二十日大根）" => 2, "ベビーリーフ" => 1, "ほうれん草" => 2, "春菊" => 2, "チンゲン菜" => 2, "サニーレタス" => 2, "バジル" => 2, "パセリ" => 2, "青じそ" => 2, "ミント" => 2, "ルッコラ" => 2, "コリアンダー" => 2, "ローズマリー" => 3 } },
      { text: "畑", scores: { "ミニトマト" => 3, "きゅうり" => 3, "ピーマン" => 3, "なす" => 3, "ミニキャロット" => 2, "イチゴ" => 2, "枝豆" => 3, "レタス" => 3, "小松菜" => 3, "水菜" => 3, "ラディッシュ（二十日大根）" => 2, "ベビーリーフ" => 1, "ほうれん草" => 3, "春菊" => 3, "チンゲン菜" => 3, "サニーレタス" => 3, "バジル" => 2, "パセリ" => 2, "青じそ" => 2, "ミント" => 2, "ルッコラ" => 2, "コリアンダー" => 2, "ローズマリー" => 2 } }
    ]
  },
  {
    text: "1日の日照時間はどれくらいですか？",
    choices: [
      { text: "6時間以上（直射日光が当たる）", scores: { "ミニトマト" => 3, "きゅうり" => 3, "ピーマン" => 3, "なす" => 3, "ミニキャロット" => 2, "イチゴ" => 3, "枝豆" => 3, "レタス" => 2, "小松菜" => 2, "水菜" => 2, "ラディッシュ（二十日大根）" => 2, "ベビーリーフ" => 2, "ほうれん草" => 2, "春菊" => 2, "チンゲン菜" => 2, "サニーレタス" => 2, "バジル" => 3, "パセリ" => 2, "青じそ" => 3, "ミント" => 2, "ルッコラ" => 2, "コリアンダー" => 2, "ローズマリー" => 3 } },
      { text: "3〜5時間（明るい半日陰）", scores: { "ミニトマト" => 1, "きゅうり" => 1, "ピーマン" => 2, "なす" => 2, "ミニキャロット" => 3, "イチゴ" => 2, "枝豆" => 2, "レタス" => 3, "小松菜" => 3, "水菜" => 3, "ラディッシュ（二十日大根）" => 3, "ベビーリーフ" => 3, "ほうれん草" => 3, "春菊" => 3, "チンゲン菜" => 3, "サニーレタス" => 3, "バジル" => 2, "パセリ" => 3, "青じそ" => 2, "ミント" => 3, "ルッコラ" => 3, "コリアンダー" => 3, "ローズマリー" => 2 } },
      { text: "3時間未満（日陰が多い）", scores: { "ミニトマト" => 0, "きゅうり" => 0, "ピーマン" => 0, "なす" => 0, "ミニキャロット" => 1, "イチゴ" => 1, "枝豆" => 0, "レタス" => 2, "小松菜" => 2, "水菜" => 2, "ラディッシュ（二十日大根）" => 1, "ベビーリーフ" => 2, "ほうれん草" => 2, "春菊" => 2, "チンゲン菜" => 2, "サニーレタス" => 2, "バジル" => 1, "パセリ" => 2, "青じそ" => 1, "ミント" => 2, "ルッコラ" => 2, "コリアンダー" => 2, "ローズマリー" => 1 } }
    ]
  },
  {
    text: "家庭菜園の経験はありますか？",
    choices: [
      { text: "初めて", scores: { "ミニトマト" => 2, "きゅうり" => 1, "ピーマン" => 3, "なす" => 2, "ミニキャロット" => 3, "イチゴ" => 2, "枝豆" => 3, "レタス" => 3, "小松菜" => 3, "水菜" => 3, "ラディッシュ（二十日大根）" => 3, "ベビーリーフ" => 3, "ほうれん草" => 3, "春菊" => 3, "チンゲン菜" => 3, "サニーレタス" => 3, "バジル" => 3, "パセリ" => 3, "青じそ" => 3, "ミント" => 3, "ルッコラ" => 3, "コリアンダー" => 2, "ローズマリー" => 3 } },
      { text: "少しある", scores: { "ミニトマト" => 3, "きゅうり" => 2, "ピーマン" => 3, "なす" => 3, "ミニキャロット" => 3, "イチゴ" => 3, "枝豆" => 3, "レタス" => 3, "小松菜" => 3, "水菜" => 3, "ラディッシュ（二十日大根）" => 2, "ベビーリーフ" => 2, "ほうれん草" => 3, "春菊" => 3, "チンゲン菜" => 3, "サニーレタス" => 3, "バジル" => 3, "パセリ" => 3, "青じそ" => 3, "ミント" => 3, "ルッコラ" => 3, "コリアンダー" => 3, "ローズマリー" => 3 } },
      { text: "慣れている", scores: { "ミニトマト" => 3, "きゅうり" => 3, "ピーマン" => 3, "なす" => 3, "ミニキャロット" => 2, "イチゴ" => 2, "枝豆" => 3, "レタス" => 2, "小松菜" => 2, "水菜" => 2, "ラディッシュ（二十日大根）" => 1, "ベビーリーフ" => 1, "ほうれん草" => 2, "春菊" => 2, "チンゲン菜" => 2, "サニーレタス" => 2, "バジル" => 2, "パセリ" => 2, "青じそ" => 2, "ミント" => 2, "ルッコラ" => 2, "コリアンダー" => 2, "ローズマリー" => 2 } }
    ]
  },
  {
    text: "どれくらいの期間で収穫したいですか？",
    choices: [
      { text: "1ヶ月以内", scores: { "ミニトマト" => 0, "きゅうり" => 0, "ピーマン" => 0, "なす" => 0, "ミニキャロット" => 0, "イチゴ" => 0, "枝豆" => 0, "レタス" => 2, "小松菜" => 3, "水菜" => 3, "ラディッシュ（二十日大根）" => 3, "ベビーリーフ" => 3, "ほうれん草" => 3, "春菊" => 3, "チンゲン菜" => 3, "サニーレタス" => 2, "バジル" => 1, "パセリ" => 0, "青じそ" => 1, "ミント" => 2, "ルッコラ" => 3, "コリアンダー" => 2, "ローズマリー" => 0 } },
      { text: "1〜2ヶ月", scores: { "ミニトマト" => 1, "きゅうり" => 2, "ピーマン" => 2, "なす" => 2, "ミニキャロット" => 3, "イチゴ" => 1, "枝豆" => 3, "レタス" => 3, "小松菜" => 3, "水菜" => 3, "ラディッシュ（二十日大根）" => 2, "ベビーリーフ" => 2, "ほうれん草" => 3, "春菊" => 3, "チンゲン菜" => 3, "サニーレタス" => 3, "バジル" => 3, "パセリ" => 2, "青じそ" => 3, "ミント" => 3, "ルッコラ" => 3, "コリアンダー" => 3, "ローズマリー" => 1 } },
      { text: "3ヶ月以上かけてじっくり", scores: { "ミニトマト" => 3, "きゅうり" => 3, "ピーマン" => 3, "なす" => 3, "ミニキャロット" => 2, "イチゴ" => 3, "枝豆" => 2, "レタス" => 1, "小松菜" => 1, "水菜" => 1, "ラディッシュ（二十日大根）" => 0, "ベビーリーフ" => 1, "ほうれん草" => 1, "春菊" => 1, "チンゲン菜" => 1, "サニーレタス" => 1, "バジル" => 2, "パセリ" => 3, "青じそ" => 2, "ミント" => 2, "ルッコラ" => 1, "コリアンダー" => 2, "ローズマリー" => 3 } }
    ]
  },
  {
    text: "どんな野菜を育てたいですか？",
    choices: [
      { text: "実がなる野菜（トマト、ピーマンなど）", scores: { "ミニトマト" => 3, "きゅうり" => 3, "ピーマン" => 3, "なす" => 3, "ミニキャロット" => 1, "イチゴ" => 3, "枝豆" => 3, "レタス" => 0, "小松菜" => 0, "水菜" => 0, "ラディッシュ（二十日大根）" => 0, "ベビーリーフ" => 0, "ほうれん草" => 0, "春菊" => 0, "チンゲン菜" => 0, "サニーレタス" => 0, "バジル" => 0, "パセリ" => 0, "青じそ" => 0, "ミント" => 0, "ルッコラ" => 0, "コリアンダー" => 0, "ローズマリー" => 0 } },
      { text: "葉物野菜（レタス、小松菜など）", scores: { "ミニトマト" => 0, "きゅうり" => 0, "ピーマン" => 0, "なす" => 0, "ミニキャロット" => 0, "イチゴ" => 0, "枝豆" => 0, "レタス" => 3, "小松菜" => 3, "水菜" => 3, "ラディッシュ（二十日大根）" => 1, "ベビーリーフ" => 3, "ほうれん草" => 3, "春菊" => 3, "チンゲン菜" => 3, "サニーレタス" => 3, "バジル" => 1, "パセリ" => 1, "青じそ" => 2, "ミント" => 1, "ルッコラ" => 2, "コリアンダー" => 1, "ローズマリー" => 0 } },
      { text: "ハーブ類（バジル、パセリなど）", scores: { "ミニトマト" => 0, "きゅうり" => 0, "ピーマン" => 0, "なす" => 0, "ミニキャロット" => 0, "イチゴ" => 0, "枝豆" => 0, "レタス" => 0, "小松菜" => 0, "水菜" => 0, "ラディッシュ（二十日大根）" => 0, "ベビーリーフ" => 1, "ほうれん草" => 0, "春菊" => 0, "チンゲン菜" => 0, "サニーレタス" => 0, "バジル" => 3, "パセリ" => 3, "青じそ" => 3, "ミント" => 3, "ルッコラ" => 3, "コリアンダー" => 3, "ローズマリー" => 3 } }
    ]
  },
  {
    text: "お手入れの頻度はどれくらいを想定していますか？",
    choices: [
      { text: "毎日こまめに世話をしたい", scores: { "ミニトマト" => 3, "きゅうり" => 3, "ピーマン" => 3, "なす" => 3, "ミニキャロット" => 2, "イチゴ" => 3, "枝豆" => 2, "レタス" => 2, "小松菜" => 2, "水菜" => 2, "ラディッシュ（二十日大根）" => 2, "ベビーリーフ" => 2, "ほうれん草" => 2, "春菊" => 2, "チンゲン菜" => 2, "サニーレタス" => 2, "バジル" => 3, "パセリ" => 2, "青じそ" => 3, "ミント" => 2, "ルッコラ" => 2, "コリアンダー" => 2, "ローズマリー" => 3 } },
      { text: "2〜3日に1回程度", scores: { "ミニトマト" => 2, "きゅうり" => 2, "ピーマン" => 3, "なす" => 2, "ミニキャロット" => 3, "イチゴ" => 2, "枝豆" => 3, "レタス" => 3, "小松菜" => 3, "水菜" => 3, "ラディッシュ（二十日大根）" => 3, "ベビーリーフ" => 3, "ほうれん草" => 3, "春菊" => 3, "チンゲン菜" => 3, "サニーレタス" => 3, "バジル" => 2, "パセリ" => 3, "青じそ" => 2, "ミント" => 3, "ルッコラ" => 3, "コリアンダー" => 3, "ローズマリー" => 2 } },
      { text: "週に1回程度（手間をかけたくない）", scores: { "ミニトマト" => 0, "きゅうり" => 0, "ピーマン" => 1, "なす" => 0, "ミニキャロット" => 1, "イチゴ" => 1, "枝豆" => 1, "レタス" => 2, "小松菜" => 2, "水菜" => 2, "ラディッシュ（二十日大根）" => 1, "ベビーリーフ" => 2, "ほうれん草" => 2, "春菊" => 2, "チンゲン菜" => 2, "サニーレタス" => 2, "バジル" => 1, "パセリ" => 2, "青じそ" => 1, "ミント" => 2, "ルッコラ" => 2, "コリアンダー" => 2, "ローズマリー" => 2 } }
    ]
  }
]

questions_data.each do |q_data|
  question = Question.create!(text: q_data[:text])

  q_data[:choices].each do |c_data|
    choice = question.choices.create!(text: c_data[:text])

    c_data[:scores].each do |plant_name, score|
      plant = Plant.find_by(name: plant_name)
      if plant
        choice.choice_scores.create!(plant: plant, score: score)
      else
        puts "Warning: Plant '#{plant_name}' not found"
      end
    end
  end
end

puts "Checker data created: #{Question.count} questions, #{Choice.count} choices, #{ChoiceScore.count} scores"
end

# 育て方ガイドデータ
load Rails.root.join('db', 'seeds', 'guides.rb')
