## ■ サービス概要
このアプリは、初心者が気軽に家庭菜園を始められることを目指した掲示板型サービスです。
育てやすい野菜を提案する「家庭菜園チェッカー」や、種まきから収穫までの手順を示す「育て方指南」で初心者をサポート。
さらに、成長記録を写真やメモで共有できるタイムライン機能で、育てる楽しさを共有できます。

## ■ 開発背景
知人から「何を育てれば良いか分からない」「初心者向けの野菜は？」といった相談を受けたことがきっかけです。
農業関連の業務経験から、同様の悩みを持つ人が多いことを実感し、初心者でも気軽に家庭菜園を始められるサービスを開発しました。

**解決したい課題**：
- 初心者が何を育てれば良いか分からない
- 栽培の手順や日々の世話のタイミングが分からない
- 成長の記録や他のユーザーとの交流の場がない

## ■ 技術スタック

### バックエンド
- **Ruby on Rails 7.2.0** (APIモード)
- **PostgreSQL** - データベース
- **JWT** - トークンベース認証
- **AWS S3** - 画像ストレージ（本番環境）
- **SendGrid** - メール配信（認証メール、パスワードリセット）

### フロントエンド
- **React 19.0.0** + **TypeScript 5.8.3**
- **Next.js 15.3.3** (App Router) - フルスタックフレームワーク
- **TailwindCSS** - スタイリング

### インフラ・開発環境
- **Docker / Docker Compose** - 開発環境
- **GitHub Actions** - CI/CD

## ■ 開発で工夫した点

### 1. 型安全な API 通信
TypeScript の型システムを活用し、フロントエンド・バックエンド間の通信を型安全に実装。`ApiResult<T>` 型でエラーハンドリングを統一し、実行時エラーを削減しました。

### 2. コード品質の担保
- **メトリクス基準**: メソッド50行以内、コンポーネント200行以内
- **責務分離**: Service層でビジネスロジックを管理し、Controllerを薄く保つ
- **自動品質チェック**: RuboCop、ESLint、TypeScript厳格モードで品質を維持

### 3. セキュリティ重視の設計
- JWT認証 + ブラックリスト方式でトークン無効化
- 機密情報のログ出力を完全排除（本番環境）
- パスワードリセット・メール認証の実装

### 4. ユーザー体験の最適化
- メール認証の24時間自動期限切れ + 未認証ユーザーの自動削除
- 成長記録のステータス管理（計画中・育成中・完了・失敗）でモチベーション維持
- カテゴリ・投稿タイプによるフィルタリングで情報アクセスを改善

## ■ ユーザー層について
- **家庭菜園初心者層**
    - 何を育てれば良いか迷っている人
    - 手軽に育てられる野菜を探している人

- **ライトガーデナー層**
    - 観葉植物やハーブの育成経験があり、次のステップとして野菜に挑戦したい人
    - 簡単に始められる家庭菜園に興味がある人

- **親子で家庭菜園を楽しみたいファミリー層**
    - 子どもと一緒に育てる体験を求める家族
    - 自然や食育に関心がある家庭

## ■ サービスの利用イメージ
- ユーザー登録、ログイン
- 初めて利用する方はまず「家庭菜園チェッカー」で質問に答え、育てやすい野菜や果物を選びます。
- 「家庭菜園チェッカー」を使わずに任意の野菜を選択する事も可能です。
- 次に、選んだ野菜の「育て方指南」で、種まきから収穫までの具体的なステップを確認します。
- 実際に栽培を始めたら「成長記録」を作成し、日々の成長や変化を記録していきます。
- 成長記録では種まき、水やり、収穫などのカテゴリ別に「成長メモ」を投稿できます。
- 成長メモは成長記録の詳細ページと「タイムライン」の両方に表示され、他のユーザーと共有されます。
- 家庭菜園に関する雑談や質問は「タイムライン」で気軽に投稿・交流できます。
- 「タイムライン」での投稿にいいねやコメントをする、或いはもらう事でユーザー間の交流が円滑になります。
- さらに、他のユーザーの成長記録をお気に入り登録したり、フォローして交流を深めることができます。

## ■ ユーザーの獲得について
- **新規ユーザーの獲得**
    - 「家庭菜園チェッカー」で初心者でも簡単に育てやすい野菜を見つけられます
    - 成長記録や投稿でコンテンツが自然に増える設計をしています
    - フォロー機能で興味のあるユーザーと繋がれます

- **既存ユーザーの維持**
    - 成長記録のステータス管理（計画中・育成中・完了・失敗）で栽培履歴を蓄積できます
    - いいねやコメント、お気に入り機能でコミュニティと繋がり続けられます
    - 成長記録のステップ管理で日々の作業を可視化し、達成感を得られます

- **コミュニティの形成**
    - 「タイムライン」で他のユーザーと交流しやすい場を提供します
    - コメントやいいねでコミュニティを活性化します
    - 家族や友人との思い出づくりをサポートします

- **ファミリー層へのアプローチ**
    - 親子で楽しめるよう、シンプルなUI設計を目指します
    - 成長記録の写真投稿で家族での栽培の思い出を記録できます
    - フォローやいいね機能で家族や友人と一緒に楽しめます

## ■ サービスの差別化ポイント・推しポイント

### 【推しポイント】

#### 初心者・家族層に特化した設計
初心者や家族が気軽に始められるよう、簡単な診断でユーザーにマッチした野菜や果物を提案。
更に、シンプルなUIと観察日記形式で設計。季節、栽培スペース、収穫期間に応じた野菜診断も提供し、初心者が迷わず育てられる環境を提供。
親子での共同栽培や記録を通じて、家庭菜園を単なる作業に留めず、思い出という形で記録だけでなく記憶に残るサービスを提供。
#### 成長記録とコミュニティ機能
家庭菜園の記録がシンプルにできるだけでなく、写真とメモで成長を振り返る楽しさを強化。タイムラインでの投稿や「いいね」「コメント」機能でコミュニティ要素もプラス。
#### コミュニティとモチベーション
いいねやコメント、フォロー機能でユーザー間の交流を促進。成長記録のステータス管理とステップ管理で栽培履歴が可視化され、達成感を得られる。

### 【競合サービス】

#### 栽培記録系
- PlantsNote：Webでの栽培ノート作成。天候情報も記録可能。
- Garden Diary：画像付き栽培日記、カレンダーからのスケジュール管理。
- 観察日記：写真の重ね撮り機能が特徴。
- Plantoto：月ごとの栽培管理とリマインダー機能。
**差別化ポイント**：
多くの栽培記録系アプリは、単純な作業ログや写真記録にとどまっていることが多く、初心者や家族で楽しみの共有を意識した設計は少ない。
その為、シンプルで直感的なUIに加え、観察日記や親子で楽しめる野菜診断機能を組み合わせ、家庭菜園を「育てる楽しみ」に変えるアプローチで差別化を図る。

#### SNS・コミュニティ系
- GreenSnap：植物図鑑機能と写真投稿SNS。観葉植物や花に強み。
- Cropnet：コミュニティ機能が充実していたが、2022年にサービス終了。
- SCIBAI：AI診断に加え、栽培SNS機能も搭載。
**差別化ポイント**：
SNS系のアプリは、植物全般や観葉植物に特化していることが多く、家庭菜園やファミリー層に特化した設計はほとんど見られない。
そのため、**おうちの畑**は成長記録の写真投稿やいいね・コメント・フォロー機能で家族での共有やモチベーションアップを重視し、初心者でも続けやすい設計が強み。

#### 栽培支援・指南系
- 菜園ナビ：栽培Q&Aや掲示板、育て方ガイドが充実。
- 園芸通信：家庭菜園の基本情報やトラブル対策が図解で学べる。
- SCIBAI：AIによる病害虫診断が強み。
- Greenery：水やりや手入れのリマインダー機能。
- Plantoto：水やりや施肥のタイミングを通知。

**差別化ポイント**：
多くの栽培支援系アプリは、専門的なガイドやトラブル対策に力を入れているが、初心者やファミリー層に向けた視覚的でわかりやすい解説は不足している。**おうちの畑**は、観察日記形式での栽培支援や、栽培経験の少ないユーザーでも直感的に理解できる育て方指南で差別化を図る。成長記録のステップ管理で、初心者でも迷わず栽培を進められます。

## ■ 機能候補

### MVPリリース（完了）
- ユーザー認証機能
- 投稿機能（タイムライン型掲示板）
- 成長記録管理機能

### 本リリース
- ユーザー認証機能（メール認証、パスワードリセット）
- ユーザーの野菜診断機能（家庭菜園チェッカー）
- 野菜の育成方法をレクチャー（育て方指南）
- マイページ基本画面の実装
- プロフィール編集機能
- フォロー機能
- 投稿機能（タイムライン型掲示板）
- いいね機能の実装
- コメント機能の基本実装
- コメントへの返信機能
- フィルタリング機能の実装（カテゴリ・投稿タイプ）
- 画像アップロード機能（投稿4枚、成長記録1枚、アバター1枚）
- 成長記録管理機能（ステータス管理、ステップ管理）
- お気に入り機能（成長記録へのお気に入り）

### 本リリース後の拡張
- リマインダー機能
- 通知機能
- 投稿のSNS（Xやインスタ等）シェア機能
- GoogleログインやSNS認証機能
- 基本検索機能
- 投稿へのリアクション機能（いいね以外）
- ユーザーの招待機能
- 成長タイムラプス生成機能
- チャットボット機能
- バッジ・称号・実績管理機能
- 動画エクスポート機能
- 二要素認証機能
- 投稿とプロフィールの公開と非公開設定機能
- 投稿データのバックアップとリストア機能
- 投稿データのインポートとエクスポート機能
- 掲示板投稿の複数条件検索機能
- 掲示板投稿のソート機能
- 家族共有アルバム機能
- ユーザーのタスク管理機能
- 投稿の成長日記タイムライン表示機能
- サービスのFAQとヘルプセンター機能
- サービスのお問い合わせフォーム機能

## ■ 機能の実装方針予定

### 家庭菜園チェッカー
- 質問形式でユーザーに栽培条件や希望を回答させ、回答内容に基づいて作物の候補を提案
- 質問と回答はデータベースで管理し、選択肢と野菜ごとのスコアの合計から提案を行う
- フロントはReact + TypeScriptで質問フォームと結果表示を実装
- バックエンドはRails APIで質問と作物データを提供
- 出典元はdocs/に整理し、APIレスポンスに含める

### ユーザーの招待機能
- 招待リンクの生成とトークン管理
- トークンの有効期限と使用回数制限
- 招待リンクからの新規ユーザー登録
- フロントはReactで招待リンク生成とステータス管理
- セキュリティ対策としてUUIDでトークンを生成

### 通知機能
- ActionCable + Redisでリアルタイム通知を実装
- 非同期処理はSidekiqまたはActiveJobで対応
- フロントはReact + TypeScriptでWebSocketを利用し、リアルタイム通知を表示
- 通知の既読・未読や設定はREST API経由で管理

### 成長タイムラプス生成機能
- FFmpeg + ActiveStorageで画像から動画を生成
- APIエンドポイントで動画生成リクエストを受け付ける
- バッチ処理はSidekiqで実装し、定期的にタイムラプスを生成
- フロントはReactで動画の進捗状況をリアルタイムに表示

### バッジ・称号・実績管理機能
- バッジや称号を管理するテーブルを設計し、ユーザーの行動に応じてポイントを付与
- 中間テーブルでユーザーとバッジを関連付け
- バッジ進捗はContext APIやReduxで管理

### チャットボット機能
- GPT APIやDialogflowを使用してAIベースの応答を生成
- フロントはReact + TypeScriptでチャットUIを実装し、WebSocketでリアルタイム通信
- メッセージの履歴や状態はReact QueryやRedux Toolkitで管理

### GoogleログインやSNS認証機能
- Devise + OmniAuthでOAuth 2.0に対応
- トークンベース認証でJWTを発行し、CSRF対策を実施
- リフレッシュトークンと認証フローをAPIで管理
- フロントはGoogle API Client LibraryやFirebase Authで実装

### 投稿データのバックアップとリストア機能
- ActiveStorageで画像データを管理し、S3やGCSにバックアップ
- JSONまたはCSV形式でデータのエクスポート/インポートを実装
- フロントはReactでファイルのインポート・エクスポートUIを提供

### 投稿とプロフィールの公開と非公開設定機能
- PunditやCanCanCanで権限管理を実装
- JSON Web Token (JWT) で認証し、アクセス権限を設定
- フラグを追加して公開/非公開設定を管理
- フロントは設定ページで設定変更時にリアルタイム反映

### 家族共有アルバム機能
- **複数ユーザー**でアルバムを共有
- **`has_many :through`** 関係でメンバー管理
- **既存ユーザーのみ追加可能**（新規ユーザーの招待は今後検討）
- **メンバーの権限設定**（Owner、Editor、Viewer）
- **公開・非公開設定**でプライバシーを保護
- **React**でアルバム管理とメンバー追加/削除のUIを構築




### 画面遷移図
Figma：https://www.figma.com/design/kLDLwqqEeI0vaGIQlXVBCY/%E3%83%99%E3%82%B8%E3%83%95%E3%82%A1%E3%83%9F%E3%83%AA%E3%83%BC%E7%94%BB%E9%9D%A2%E9%81%B7%E7%A7%BB%E5%9B%B3?node-id=0-1&t=9XV7k4UxObRGfAlZ-1